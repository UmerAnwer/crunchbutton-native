<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="format-detection" content="telephone=no">
		<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi">
		<title>Crunchbutton</title>
		<link rel="stylesheet" href="assets/css/bundle.css">
		<link rel="stylesheet" href="assets/css/index.css">
		<script type="text/ng-template" id="assets/view/account.facebook.html">
<div class="facebook">
	<div class="facebook-button" ng-click="facebook.auth()">
		<span class="icon-facebook"></span>
		<span class="facebook-button-text">{{title}}</span>
		<div class="divider"></div>
	</div>
	<div class="wait" ng-show="facebook.facebook.wait && !facebook.facebook.error.userExists && !facebook.facebook.error.unknown && !facebook.facebook.error.login">
		Just a sec...
	</div>
	<div class="error" ng-show="facebook.facebook.error.userExists">
		Sorry, it seems the facebook user is already related with other user.
	</div>
	<div class="error" ng-show="facebook.facebook.error.unknown">
		Sorry, something bad happened.
	</div>
	<div class="error" ng-show="facebook.facebook.error.login">
		Sorry, it seems you cancelled login or did not fully authorize.
	</div>
</div>
</script><script type="text/ng-template" id="assets/view/account.html">
<div class="account-container modal zoom-anim-dialog small-container mfp-hide">
	<div ng-controller="AccountModalHeaderCtrl" class="header" ng-show="modal.header">
		<h1 class="signin {{ modal.signin && 'active' || 'link' }}" ng-click="modal.toggleSignForm( 'signin' )">Sign in</h1>
		<div class="divisor">|</div>
		<h1 class="signup {{ modal.signup && 'active' || 'link' }}" ng-click="modal.toggleSignForm( 'signup' )">Sign up</h1>
		<div class="divider"></div>
	</div>
	<div ng-controller="AccountSignInCtrl" ng-show="modal.signin">
		<div ng-show="!help.visible">
			<form name="formSignin" ng-submit="account.signin()">
				<input type="text" maxlength="250" name="email" class="signin-email" ng-enter="account.signin()" validate-login required placeholder="email or phone" tabindex="10" ng-model="account.form.email" />
				<div class="divider"></div>
				<input type="password" maxlength="250" name="password" class="signin-password" ng-enter="account.signin()" required placeholder="password" tabindex="10" ng-model="account.form.password" />
				<div class="divider"></div>
				<div ng-show="formSignin.$dirty && formSignin.$invalid" class="error">
					<div ng-show="formSignin.email.$error">
						Please enter a valid email or phone.
					</div>
					<div ng-show="formSignin.password.$error">
						Please enter your password.
					</div>
				</div>
				<div ng-show="account.error.signin" class="error">
					Your email or password were incorrect.
				</div>
			</form>
			<div class="divider"></div>
			<a class="help-link" ng-click="help.show(true)">Password help?</a>
			<button ng-disabled="formSignin.$pristine || formSignin.$invalid" ng-click="account.signin();">Log in</button>
			<div class="divider"></div>

		<div facebook-signin-button title="Login with Facebook"></div>
		</div>
		<div ng-show="help.visible">
			<form class="signin-help-form" name="formLoginHelp" novalidate>
				<h1>Password help?</h1>
				<input type="text" maxlength="250" name="email" required  class="help-email" ng-enter="help.sendForm()" validate-login placeholder="email or phone" tabindex="10" ng-model="account.form.email" autofocus>
				<div class="divider"></div>
				<div ng-show="help.error" class="error">
					Sorry, that email/phone is not registered with us.
				</div>
			</form>
			<a class="help-link" ng-click="help.show(false)">Never mind</a>
			<button ng-disabled="formLoginHelp.$pristine || formLoginHelp.$invalid" ng-click="help.sendForm()">Reset</button>
			<div class="divider"></div>
			<div ng-show="formLoginHelp.$dirty && formLoginHelp.$invalid" class="error">
				Please enter a valid email or phone.
			</div>
			
			<div ng-show="help.success.visible" class="success">
				You will receive a code to reset your password! It will expire in 24 hours.
				<div ng-show="help.success.facebook.visible">
					You can also try logging in with <span class="login-facebook">Facebook</span>.
				</div>
			</div>
		</div>
	</div>
	<div ng-controller="AccountSignUpCtrl" ng-show="modal.signup">
		<div class="signup-form-options" ng-show="!account.user.has_auth">
			<form class="signin-form" name="formSignup" novalidate>
				<input type="text" maxlength="250" name="email" class="signup-email" ng-enter="account.signup()" validate-login required placeholder="email or phone" tabindex="10" ng-model="account.form.email" />
				<div class="divider"></div>
				<input type="password" maxlength="250" name="password" class="signup-password" ng-enter="account.signup()" required placeholder="password" tabindex="10" ng-model="account.form.password" />
				<div class="divider"></div>
				<div ng-show="formSignup.$dirty && formSignup.$invalid" class="error">
					<div ng-show="formSignup.email.$error">
						Please enter a valid email or phone.
					</div>
					<div ng-show="formSignup.password.$error">
						Please enter your password.
					</div>
				</div>
				<div ng-show="account.error.signup" class="error">
					It seems that the email is already registered!
				</div>
			</form>
			<div class="divider"></div>
			<button ng-disabled="formSignup.$pristine || formSignup.$invalid" ng-click="account.signup();">Sign up</button>
			<div class="divider"></div>
			
			<div facebook-signin-button title="Signup with Facebook"></div>
		</div>
		<div ng-show="account.user.has_auth">
			<h1>Congratulations!</h1>
			<div class="success">
				You can now sign in using <strong>{{account.email}}</strong>!
			</div>
		</div>
	</div>
</div>
</script><script type="text/ng-template" id="assets/view/account.reset.html">
<div class="account-reset-container modal zoom-anim-dialog small-container mfp-hide" ng-controller="AccountResetCtrl">
	<div ng-show="reset.step == 1">
		<form>
			<h1>Password reset</h1>
			<input type="text" maxlength="250" id="account-reset-code" value="" ng-enter="reset.validateCode()" ng-model="reset.form.code" placeholder="enter the reset code" tabindex="10" />
			<div class="divider"></div>
			<div ng-show="reset.error == 'empty'" class="error">
				Please enter the reset code.
			</div>
			<div ng-show="reset.error == 'invalid'" class="error">
				Sorry, this code is invalid.
			</div>
			<div ng-show="reset.error == 'expired'" class="error">
				Sorry, this code is expired.
			</div>
			<button ng-click="reset.validateCode();">Reset</button>
			<div class="divider"></div>
		</form>
	</div>
	<div ng-show="reset.step == 2">
		<form ng-show="!reset.success">
			<h1>Type your new password</h1>
			<input type="password" maxlength="250" ng-model="reset.form.password" ng-enter="reset.changePassword()" id="account-reset-password" value="" placeholder="password" tabindex="10" />
			<div class="divider"></div>
			<div ng-show="reset.error == 'empty'" class="error">
				Please enter your new password.
			</div>
			<div ng-show="reset.error == 'invalid'" class="error">
				Sorry, this code is invalid.
			</div>
			<button ng-click="reset.changePassword();">Change</button>
			<div class="divider"></div>
		</form>
		<div ng-show="reset.success">
			<h1>Done!</h1>
			<div class="success">
				Your password has changed!
			</div>
		</div>
	</div>
</div>
</script><script type="text/ng-template" id="assets/view/bycity.html">
<div class="content-item-locations crunchbutton-by-city">
	<h1>Crunchbutton by city:</h1> 
	<div class="content-item-locations-cities">
		<% _.each(topCommunities, function(alias) { %>
			<span class="content-item-locations-city" permalink="<%= alias.alias %>"><%= alias.name %></span>&nbsp;&nbsp;&nbsp;&nbsp;
		<% }); %>
	</div>
</div>
</script><script type="text/ng-template" id="assets/view/giftcard.html">
<div class="giftcard-container modal zoom-anim-dialog small-container mfp-hide" ng-controller="GiftCardCtrl">

	<div ng-show="giftcard.modal.intro">
		<h1>Gift card</h1>
		<div class="wait">Just a sec.</div>
	</div>
	
	<!-- User is logged -->
	<div ng-show="giftcard.account.user">
		<!-- Error -->
		<div ng-show="giftcard.modal.error && !giftcard.modal.success">
			<h1>Oops, error!</h1>
			<div class="error" ng-show="giftcard.modal.error == 'used'">
				Sorry, this gift card was already used.
			</div>
			<div class="error" ng-show="giftcard.modal.error == 'invalid'">
				Sorry, this is an invalid gift card.
			</div>
			<div class="error" ng-show="giftcard.modal.error != 'used' && giftcard.modal.error != 'invalid'">
				Please try it again.
			</div>
		</div>
		<!-- Success -->
		<div ng-show="giftcard.modal.success && !giftcard.modal.error">
			<h1>Gift card added!</h1>
			<div class="success" ng-show="giftcard.modal.restaurant">
				You've got a <b>${{giftcard.value}}</b> gift card to <b class="pointer" ng-click="giftcard.openRestaurant();">{{giftcard.modal.restaurant.name}}</b>
			</div>
			<div class="success" ng-show="!giftcard.modal.restaurant">
				You've got a <b>${{giftcard.value}}</b> gift card to Crunchbutton!
			</div>
		</div>
	</div>

	<!-- User is not logged -->
	<div ng-show="!giftcard.account.user">
		<!-- Error -->
		<div ng-show="giftcard.modal.error && !giftcard.modal.success">
			<h1>Oops, error!</h1>
			<div class="error" ng-show="giftcard.modal.error == 'used'">
				Sorry, this gift card was already used.
			</div>
			<div class="error" ng-show="giftcard.modal.error == 'invalid'">
				Sorry, this is an invalid gift card.
			</div>
			<div class="error" ng-show="giftcard.modal.error != 'used' && giftcard.modal.error != 'invalid'">
				Please try it again.
			</div>
		</div>
		<!-- Success -->
		<div ng-show="giftcard.modal.success && !giftcard.modal.error">
			<h1>Welcome!</h1>
			<div class="success" ng-show="giftcard.modal.restaurant">
				You have a <b>${{giftcard.value}}</b> gift card to <b class="pointer" ng-click="giftcard.openRestaurant();">{{giftcard.modal.restaurant.name}}</b>
			</div>
			<div class="success" ng-show="!giftcard.modal.restaurant">
				You have a <b>${{giftcard.value}}</b> gift card!
			</div>
			<div class="bottom-links">
				<span ng-click="giftcard.modal.signIn();">Sign In</span>
				<span ng-click="giftcard.modal.close();">Later</span>
			</div>
		</div>
	</div>

</div>

</script><script type="text/ng-template" id="assets/view/help.html">
<div ng-bind-html-unsafe="help"></div>
</script><script type="text/ng-template" id="assets/view/home.html">
 
</script><script type="text/ng-template" id="assets/view/legal.html">
<div ng-bind-html-unsafe="legal"></div>
</script><script type="text/ng-template" id="assets/view/location.html">
<div class="main-content-readable home-greeting" ng-show="!locationError">
	<div class="home-welcome">
		<h1>Push a button. Get Food.</h1>
		<h2>
			Order the top food in your area. 
			<br />
			After you order, everything is saved for future 1 click ordering.
			<br />
			<strong>Enter your Address:</strong>
		</h2>
	</div>
</div>
<div class="enter-location" ng-show="!locationError">
	<form class="button-letseat-formform" onsubmit="return false;">
		<table class="button-letseat-table" cellpadding="0" cellspacing="0">
			<tr>
				<td style="width: 100%;">
					<input type="text" class="location-address" ng-enter="letsEat()" ng-model="location.form.address" placeholder="Enter your zip code or full address">
				</td>
				<td>
					<div class="location-detect">
						<div class="location-detect-icon"></div>
						<div class="location-detect-loader"></div>
					</div>
				</td>
			</tr>
		</table>
	</form>
</div>
<div class="divider"></div>
<button ng-show="!locationError" class="button-letseat-form button-bottom" ng-click="letsEat()"><div>Let's Eat!</div></button>
<div class="error-location" ng-show="locationError">
	<div class="content-item-locations">
		<h1>Crunchbutton by city:</h1> 
		<div class="content-item-locations-cities">
			<span ng-repeat="alias in topCommunities">
				<span class="content-item-locations-city" ng-click="openCity(alias.name)" permalink="{{alias.alias}}">{{alias.name}}</span>
			</span>
		</div>
	</div>
	<div class="main-content-readable">
		<div class="home-welcome home-welcom-error">
			<h1>Sorry!</h1>
			<h2>
				We don't serve <span ng-click="resetFormLocation()" class="loc-your-area change-location-inline">{{yourArea}}</span> yet. Please click <span ng-click="resetFormLocation()" class="change-location-inline">here</span> to enter a different address.
			</h2>
		</div>
		<div class="divider"></div>
		<div class="home-recommend" ng-controller="RecommendRestaurantCtrl">
		
			<div class="home-recommend-form" ng-show="!formSent">
				<div class="home-recommend-title">
					<h1><strong>Recommend a restaurant:</strong></h1>
				</div>

				<input type="text" ng-enter="recommend.send()" ng-model="recommend.form.restaurant" class="home-recommend-text">
				<button ng-click="recommend.send()" class="home-recommend-button"><div>Recommend!</div></button>
				<div class="divider"></div>
				<div class="home-recommend-message">
					What's your absolute favorite? What should be on Crunchbutton? Tell us, and we'll actually add it and get back to you.
				</div>
				<div class="divider"></div>
			</div>
			<div class="home-recommend-thank-you" ng-show="recommend.greetings">
				<div class="home-recommend-title">
					<h1>Awesome, thanks!</h1>
				</div>
				<div class="divider"></div>
				<div class="home-recommend-message-thank-you">
					<div ng-show="account.user">
						We'll let you know if they make it to Crunchbutton.
					</div>
					<div ng-show="!account.user">
						<a href="#" ng-click="modal.signupOpen()" class="home-recommend-message-create-account"><span>Create an account</span></a> and when we'll let you know when we launch in your area!
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
</script><script type="text/ng-template" id="assets/view/order.html">
<div ng-show="!order.order.id">
	Orders loader
</div>

<div ng-show="order.order.id">

	<div class="content-padder-before"></div>

	<div class="order-info content-padder main-content-readable">
	
		<span class="order-thanks-message" ng-show="order.order.new">
			Crunched!
			<span class="order-thanks-message-block">Your order is placed</span>
			<span class="order-thanks-message-small">(and saved for easy 1 click ordering next time)</span>
			<br><br>
		</span>
	
		<div ng-show="account.user">
			You can one click order anywhere, including <a data-ng-href="http://crunchbutton.com">crunchbutton.com</a> on your phone.
		</div>

		<div ng-show="!account.user.has_auth">
				Add a password to reorder your favorite food anywhere, including <a data-ng-href="http://crunchbutton.com">crunchbutton.com</a> on your phone.
				<a href="javascript:;" ng-click="modal.signinOpen();" class="add-password-button">Add a password now</a>
		</div>
	
		<div class="order-details">

			<div ng-show="(order.order.delivery_type == 'delivery')">
				<b>Your delivery address:</b><br><span ng-bind-html-unsafe="nl2br(order.order.address)"></span><br><br>
			</div>
	
			<div ng-hide="(order.order.delivery_type == 'delivery')">
				<b>Takeout order</b><br><br>
			</div>
	
			<b>Your phone #:</b><br>{{formatPhone(order.order.phone)}}<br><br>
	
			<b>Your order:</b><span ng-bind-html-unsafe="order.order._message"></span><br><br>
	
			<i ng-show="order.order.notes" ng-bind-html-unsafe="nl2br(order.order.notes)"></i><br><br>
	
			<b ng-show="(order.order.pay_type == 'card')">Your total:<br></b>
			<b ng-hide="(order.order.pay_type == 'card')">Your approximate total:<br></b>
			
			${{formatPrice(order.order.charged)}}
	
			<div class="credit" ng-show="(order.order.credit && order.order.credit > 0)">( ${{parseFloat(order.order.final_price).toFixed(2)}} - ${{parseFloat(order.order.credit).toFixed(2)}} credit )</div>
	
			<br><br>
	
			For updates on your order, please call<br>{{order.restaurant.name}}: <b>{{callPhone( order.restaurant.phone )}}</b><br><br>
	
			You can reach Crunchbutton by texting or calling <b> {{callPhone( '(646) 783-1444' )}} </b> <br><br>
	
			We've saved your order for easy 1 click ordering next time

			<br><br>

			<div class="facebook-button facebook-button-share clearfix" ng-click="facebook();">
				<i class="icon-facebook"></i><span class="facebook-button-text">Share what you ordered</span>
			</div>
	
		</div>
	</div>
	
	<br>
	
	<a data-ng-href="/printorder/{{ order.order.uuid }}" target="_blank" class="print-icon"><i class="icon-print"></i> Print Receipt</a>

	<div class="divider"></div>
</div>
</script><script type="text/ng-template" id="assets/view/orders.html">
<div ng-show="!orders.list">
	Orders loader
</div>
<div ng-show="orders.list" class="main-content-readable">

	<div class="restaurant-item-title">order history</div>

	<ul class="resturant-dishes resturant-dish-container your-orders">
		<li ng-repeat="order in orders.list">
			<span ng-click="orders.restaurant(order._restaurant_permalink)" class="dish-name order-restaurant">
				{{order._restaurant_name}}
			</span>
			<span class="dish-price">
				{{order.timeFormat}} ({{order._tz}})
			</span>
			<a ng-click="orders.receipt(order.id)" class="order-link" href="javascript:;">View Receipt</a>
			<div class="divider"></div>		
		</li>
	</ul>

	<div class="order-options">
		<a ng-show="(!account.facebook.logged && !account.user.facebook)" href="javascript:;" class="signup-add-facebook-button" >Connect with Facebook</a>
		<a href="javascript:;" ng-click="signout.do()" class="signout-button">Sign out</a>
		<div class="divider"></div>
	</div>
</div>
</script><script type="text/ng-template" id="assets/view/restaurant.html">
<div ng-show="!order.loaded">
	Restaurant Loading Message
</div>

<div ng-show="order.loaded">

	<div class="cart-summary cart-summary-detail" data-role="header" data-position="fixed">
		<div class="cart-summary-icon"></div>
		<div class="cart-summary-item-count"><span>{{order.info.totalItems}}</span></div>
		<div class="cart-summary-items">{{order.info.cartSummary}}</div>
	</div>

	<div class="giftcard-badge-container" ng-show="credit.value != '0.00' && App.isMobile()">
		<div class="giftcard-badge">
			<div ng-click="credit.tooltip=!credit.tooltip" class="giftcard-badge-value">${{credit.value}}</div>
		</div>
		<div class="giftcard-badge-tooltip" ng-show="credit.tooltip">
			You have a <span class="giftcard-value">{{AB.dollar}}{{credit.value}}</span> gift card!
		</div>
	</div>

	<div class="restaurant-name">
		<h1>{{restaurant.name}}</h1>
		<div class="giftcard-desktop-container" ng-show="credit.value != '0.00' && !App.isMobile()">
			<div class="giftcard-desktop-message">
				You have a <span class="giftcard-value">{{AB.dollar}}{{credit.value}}</span> gift card!
			</div>
		</div>
	</div>
	
	<div class="restaurant-message" ng-bind-html-unsafe="restaurant.message" ng-show="restaurant.message"></div>
	
	<div ng-show="restaurant.image" class="restaurant-pic-wrapper {{AB.restaurantPage}}">
		<div class="restaurant-pic" style="background: url({{restaurant.img}});"></div>
	</div>
	
	<div ng-show="restaurant.message" class="main-content-readable">
		<div class="restaurant-message-mobile" ng-bind-html-unsafe="restaurant.message"></div>
	</div>
	
	<!-- main-content-readable-margin -->
	<div class="main-content-readable">
		<!-- cart -->
		<div class="cart-items {{AB.restaurantPage}}">
			<div ng-show="restaurant._open">
				<div class="restaurant-item-title text-your-order">
					Your Order 
					<div ng-show="App.isMobile()" ng-include="assets/view/restaurant.suggestion.tooltip.html"></div>
				</div>
				<div class="your-order-label" style="font-weight: bold; display: none;">(we've chosen the most popular order, but you can order anything you want)</div>
				<div class="divider"></div>

				<div ng-show="!order.cart.hasItems()" class="order-begin">
					<div class="icon">
						<i class="icon-arrow-left desktop"></i> 	
						<i class="icon-arrow-down mobile"></i> 
					</div>
					<div class="text">
						Begin by clicking on anything from our curated menu 
						<span class="desktop"> on the left!</span>
						<span class="mobile"> below!</span>
					</div>
					<div class="divider"></div>
				</div>

				<div ng-show="order.info.deliveryMinDiff && order.cart.hasItems()" class="delivery-minimum-error">
					Add $<span class="delivery-min-diff">{{order.info.deliveryMinDiff}}</span> from menu to meet delivery minimum.
				</div>

				<!-- Cart's basket -->
				<div>

					<div ng-repeat="item in order.cart.items">

						<div class="cart-item cart-item-dish">

							<div class="cart-button cart-button-remove" ng-click="order.cart.remove(item.details.id);"><span></span></div>

							<div class="cart-item-name">{{item.details.name}}
								<span class="cart-item-description">{{item.details.description}}</span>
							</div>

							<div ng-show="item.details.customization.customizable" ng-click="item.details.customization.expanded=!item.details.customization.expanded" class="cart-item-config"><a href="javascript:;">Customize</a></div>

						</div>

						<!-- Customizable options -->
						<div ng-show="item.details.customization.customizable && item.details.customization.expanded">
							
							<div ng-repeat="option in item.details.customization.options">

								<div class="cart-item-customize-item">
								
									<div ng-switch on="option.type">

										<!-- Customizable - checkbox -->
										<div ng-switch-when="check">
												<input type="checkbox" ng-change="order.cart.customizeItem(option, item)" ng-model="option.checked" class="cart-customize-check">
												<label ng-click="option.checked = !option.checked; order.cart.customizeItem(option, item);" class="cart-item-customize-name">{{option.name}}</label>
												<label ng-click="option.checked = !option.checked; order.cart.customizeItem(option, item);" class="cart-item-customize-price">{{option.priceFormated}}</label>
										</div>

										<!-- Customizable - select -->
										<div ng-switch-when="select">
											<label class="cart-item-customize-select-name">{{option.name}}</label>
											<select ng-change="order.cart.customizeItem(option, item)" ng-model="option.selected" ng-options="opt.id_option as opt.name for opt in option.options" class="cart-customize-select"></select>
										</div>

									</div>
								</div>

							</div>
						</div>

					</div>
				</div>
			</div>

				<div class="default-order-check" ng-show="order.info.totalItems">
					<input type="checkbox" ng-model="order.form.make_default">
					<label for="default-order-check">Make this your default order for {{restaurant.name}}</label>
				</div>

			</div>


			<!-- menu -->
			<div class="restaurant-items">
				<div class="content-item-name content-item-main-name">
					<h1>
						Add to your order
						<div ng-show="!App.isMobile()" ng-include="assets/view/restaurant.suggestion.tooltip.html"></div>
					</h1>
				</div>
			
				<div ng-repeat="category in restaurant.categories()">
					<div class="restaurant-item-title">{{category.name}}{{category.locName()}}</div>
					<ul class="resturant-dishes resturant-dish-container" date-id_category="{{category.id_category}}">
						<li ng-repeat="dish in category.dishes()" ng-click="order.cart.add( dish.id_dish )" class="dish-item">
							<span class="dish-name"><i class="icon-star" ng-show="dish.top"></i> {{dish.name}}</span><span class="dish-price">({{AB.dollar}}{{dish.price}}{{AB.changeablePrice(dish)}})</span>
						</li>
					</ul>
				</div>
			
				<div class="suggestion-link-container" ng-controller="RecommendFoodCtrl">
					<div class="suggestion-link-title">Really want something else?</div>
						<a href="javascript:;" ng-click="recommend.modal.open();"><b><i>Suggest other food</i></b></a>
				</div>
				
			</div>
			<div class="divider"></div>
		</div>
	</div>

	<div class="restaurant-payment-div"></div>

	<div class="is-closet main-content-readable" ng-show="!restaurant.open()">
		<div class="restaurant-closed" ng-show="!restaurant.open()">
			<div class="restaurant-closed-icon"></div>
			<div class="restaurant-closed-content">
				<span class="restaurant-closed-title">
					{{restaurant.name}} is currently closed!
				</span>
				<span class="restaurant-closed-content">
					It will be open during the following hours (EDT):<br> 
					<span ng-bind-html-unsafe="nl2br(restaurant.closedMessage())"></span>
				</span>
			</div>
			<div class="divider"></div>
		</div>
	</div>

	<!-- payment and user info -->
	<form class="payment-form main-content-readable" ng-show="order.loaded && order.cart.hasItems()">
	
		<div ng-show="restaurant._open && order.showForm && order.cart.hasItems()">
		
			<div class="content-item-name"><h1>Your Info</h1></div>
			<div class="your-info-label">(enter this once, and we'll save it for next time)</div>
			
			<!-- user info -->
			<div class="delivery-info-container">
				<div ng-show="(restaurant.delivery == '1' && restaurant.takeout == '1')">
					<label class="pay-title-label">Delivery Info</label>

					<div class="input-item clearfix">
						<button ng-click="order.toogleDelivery( 'delivery' )" ng-class="{'toggle-active': order.form.delivery_type=='delivery' }" class="toggle-item">delivery</button>
						<span class="toggle-spacer">or</span>
						<button ng-click="order.toogleDelivery( 'takeout' )" ng-class="{'toggle-active': order.form.delivery_type=='takeout' }" class="toggle-item">takeout</button>
					</div>

				</div>

				<div ng-show="(restaurant.delivery == '1' && restaurant.takeout != '1')">
					<label class="pay-title-label">Delivery Info</label>
				</div>

				<div ng-show="(restaurant.delivery != '1' && restaurant.takeout == '1')">
					<label class="pay-title-label">Takeout Info </label>
					<span class="take-out-only">Take out only!</span>
				</div>

				<div class="personal-info field-container">
					<div class="divider"></div>
					<label>Name</label>
					<div class="input-item"><input type="text" name="pay-name" tabindex="2" ng-model="order.form.name"></div><div class="divider"></div>
		
					<label>Phone #</label>
					<div class="input-item">
					<input type="tel" name="pay-phone" tabindex="3" ng-model="order.form.phone"></div><div class="divider"></div>
		
					<label ng-show="order.form.delivery_type=='delivery'">Delivery Address</label>
					<div ng-show="order.form.delivery_type=='delivery'" class="input-item">
					<textarea ng-model="order.form.address" name="pay-address" name="pay-address" tabindex="5"></textarea></div>
					<div class="divider"></div>
	
					<div ng-show="(restaurant.id != 74)">
						<label>Notes</label>
						<div class="input-item"><textarea name="notes" ng-blur="checkGiftCard()" ng-model="order.form.notes" tabindex="6"></textarea></div><div class="divider"></div>
						<div class="divider"></div>

						<!-- Gift card messages -->

						<div class="giftcard-info">

							<div class="warning" ng-show="giftcard.removed">
								You just removed a gift card. If you still want to use that gift card, you must put it back in the notes field.
							</div>

							<div ng-show="restaurant.giftcard == 0 && giftcard.hasGiftCards">
								This restaurant does not accept gift card.
							</div>

							<div ng-show="giftcard.value != '0.00' && order.form.pay_type == 'cash' ">
								Pay with a card, NOT CASH, to use your {{AB.dollar}}{{giftcard.value}} gift card!</span>
							</div>

							<div ng-show="restaurant.giftcard == 1 && order.form.pay_type == 'card' ">
								<!-- Gift card success -->
								<div ng-repeat="success in giftcard.giftcards.success">
									<div ng-show="!success.error">
										Congrats! This gift card ({{success.giftcard}}) gives you {{AB.dollar}}{{success.value}}.	
									</div>
									<div ng-show="success.error == 'other restaurant'">
										The gift card ({{success.giftcard}}) you are trying to use belongs to another restaurant.
									</div>
								</div>
								<!-- Gift card errors -->
								<div ng-repeat="error in giftcard.giftcards.error">
									<div ng-switch on="error.error">
										<div ng-switch-when="gift card already used">
										The gift card ({{error.giftcard}}) you are trying to use was already redeemed.
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
	
				</div>
			</div>
		
			<div class="divider"></div>
			
			<!-- payment info -->
			<div class="payment-info-container">
		
				<div class="payment-info field-container">
		
					<label class="pay-title-label">Payment Method</label>
					<div class="input-item toggle-wrapper">
						<button ng-click="order.tooglePayment( 'card' )" ng-show="(restaurant.credit == '1')" ng-class="{'toggle-active': order.form.pay_type=='card' }" class="toggle-item">card</button> 
						<span ng-show="(restaurant.credit == '1' && restaurant.cash == '1')" class="toggle-spacer">or</span> 
						<button ng-click="order.tooglePayment( 'cash' )" ng-show="(restaurant.cash == '1')"  ng-class="{'toggle-active': order.form.pay_type=='cash' }" class="toggle-item">cash</button>
					</div>
	
					<div class="divider"></div>
		
						<div ng-show="order.form.pay_type=='card'" class="payment-card-info"><p>Your credit card information is <br />super secure and encrypted.<br /><br /></p>
							<div class="card-icons">
								<div class="payment-card card-visa payment-card-grey" title="visa"></div>
								<div class="payment-card card-master-card" title="master card"></div>
								<div class="payment-card card-amex" title="american express"></div>
								<div class="payment-card card-discover" title="discover card"></div>
							</div>
						</div>

						<label ng-show="order.form.pay_type=='card'">Credit card #</label>

						<div ng-show="order.form.pay_type=='card'" class="input-item"><input type="text" name="pay-card-number" tabindex="6" ng-change="order.cardInfoChanged()" ng-model="order.form.cardNumber"></div><div class="divider"></div>
		
						<label ng-show="order.form.pay_type=='card'">Expiration</label>
						<div ng-show="order.form.pay_type=='card'" class="input-item">

							<select  ng-change="order.cardInfoChanged()" ng-model="order.form.cardMonth" ng-options="month.value as month.label for month in order._months()" tabindex="7">{{order.form.card.month}}</select> 

							<select  ng-change="order.cardInfoChanged()" ng-model="order.form.cardYear" ng-options="year.value as year.label for year in order._years()" tabindex="8"></select> 

							<div class="divider"></div>
						</div>
		
						<div class="divider"></div>

						<label ng-show="order.form.pay_type=='card'">Tip</label>
						<div ng-show="order.form.pay_type=='card'" class="input-item">
	
						<input type="hidden" name="pay-autotip-value" ng-model="order.form.autotip" value="0">
						<select ng-model="order.form.tip" ng-options="tip.value as tip.label for tip in order._tips()" ng-change="order.tipChanged();" class="tip" tabindex="9"></select> 
						<div class="divider"></div>
					</div>
				</div>
		
			</div>
			
			<div class="divider"></div>
			<div class="payment-total" ng-show="order.subtotal()">
				You're paying:&nbsp;
				<span ng-show="order.form.pay_type=='cash'">approximately</span>
				&nbsp;{{order.info.breakdownDescription}}&nbsp;
				<span ng-show="order.info.extraCharges">( + {{order.info.extraCharges}} )</span>
				<strong class="cart-gift" ng-show="credit.value != '0.00' && order.form.pay_type == 'card' ">
					<span>
						&nbsp;(-{{AB.dollar}}{{credit.value}} credit 

						<span ng-show="order.info.creditLeft != ''" class="gift-left">
							- You'll still have {{AB.dollar}}{{order.info.creditLeft}} gift card left
						</span> )
					</span>
				</strong>&nbsp;
				for a total of {{order.info.totalText}}
				&nbsp;
				<div ng-show="credit.value != '0.00' && order.form.pay_type == 'cash' ">
					<div class="giftcard-payment-message">Pay with a card, NOT CASH, to use your {{AB.dollar}}{{credit.value}} gift card!</div>
				</div>
				&nbsp;
				<span ng-show="order.form.pay_type=='card'">by cart</span>
			</div>
		</div>
	
	</form>

	<div ng-show="restaurant._open && order.cart.hasItems()" class="button-bottom-wrapper" data-role="footer" data-position="fixed"><button class="button-bottom" ng-click="order.submit();"><div>Get Food</div></button></div>

	<!-- stored user info -->
	<div class="delivery-payment-info main-content-readable" ng-show="restaurant._open && !order.showForm && order.cart.hasItems()">

		<div>
			<label>Your phone number:&nbsp;</label>
			<i ng-show="user.phone">{{formatPhone(user.phone)}}</i>
			<i ng-show="!user.phone">no phone # provided</i>
		</div>

		<div ng-show="order.subtotal()">
			<label>You're paying:&nbsp;<span ng-show="order.form.pay_type=='cash'">approximately</span> </label>
			&nbsp;{{order.info.breakdownDescription}}&nbsp;
			<span ng-show="order.info.extraCharges">( + {{order.info.extraCharges}} )</span>
			<strong class="cart-gift"></strong>&nbsp;
			for a total of {{order.info.totalText}}
			&nbsp;
				<div ng-show="credit.value != '0.00' && order.form.pay_type == 'cash' ">
					<div class="giftcard-payment-message">Pay with a card, NOT CASH, to use your {{AB.dollar}}{{credit.value}} gift card!</div>
				</div>
			&nbsp;
			<span ng-show="order.form.pay_type=='card'">by cart</span>
		</div>

		<div ng-show="restaurant.delivery == '1' && order.form.delivery_type=='delivery'">
			<label>Your food will be delivered to:</label><br />
			<span ng-bind-html-unsafe="nl2br(order.form.address)"></span>
			<i ng-hide="order.form.address">no address provided</i>
		</div>

		<div ng-show="restaurant.takeout == '1' && order.form.delivery_type=='takeout'">
			<label>Delivery Address:</label> <i>takeout</i>
		</div>

		<div>
			<span class="clickable" ng-click="order.showForm=true">Change delivery or payment details</span>
		</div>

		<div class="divider"></div>

	</div>
</div>
</script><script type="text/ng-template" id="assets/view/restaurant.suggestion.tooltip.html">
<span class="tooltip-help-desktop-container">
	<span class="tooltip-help tooltip-help-desktop"><span>?</span>

	<div class="tooltip-help-content tooltip-help-content-desktop">
		Crunchbutton curates menus. We've curated just the top food here.
		If you really want something else, suggest it below.
	</div>
</span>

</script><script type="text/ng-template" id="assets/view/restaurants.html">
<div class="home-welcome home-tagline main-content-readable">
	<h1 ng-bind-html-unsafe="slogan"></h1>
	<h2 ng-bind-html-unsafe="tagline"></h2>
</div>

<div class="content-padder-before"></div>
<div class="content-padder">
	<div class="meal-items {{mealItemClass}}">

		<div ng-click="display()" ng-class="{'meal-item-closed': restaurant._open==false}" class="meal-item" data-id_restaurant="{{restaurant.id_restaurant}}" data-permalink="{{restaurant.permalink}}" ng-repeat="restaurant in restaurants">
			<div class="meal-item-content">
				<div class="meal-pic" style="background: url({{restaurant.img64}});"></div>
				<h2 class="meal-restaurant">{{restaurant.name}}</h2>
				<h3 class="meal-food">{{restaurant._short_description}}</h3>
				<div ng-switch on="restaurant._tag">
					<div class="meal-item-tag" ng-switch-when="takeout">Take out only</div>
					<div class="meal-item-tag about-to-close" ng-switch-when="closing">Hurry, closes in {{restaurant.isAboutToClose()}} min!</div>
					<div class="meal-item-tag-closed" ng-switch-when="closed">Opens in a few hours</div>
				</div>
			</div>
			<div class="meal-item-spacer"></div>
		</div>

	</div>
</div>

</script><script type="text/ng-template" id="assets/view/signin.html">
<div class="signin-container zoom-anim-dialog small-container mfp-hide">
	<div class="signin-form-container">	

		<div class="signin-form-options">
			<form class="signin-form">

				<div class="sign-form-links">
					<h1 ng-class="{{account.tab == 'signin' && 'tab-active' || 'link' }}" ng-click="account.setTab('signin')">Sign in</h1>
					<div class="divisor">|</div>
					<h1 ng-class="{{account.tab == 'signup' && 'tab-active' || 'link' }}" ng-click="account.setTab('signup')">Sign up</h1>
					<div class="divider"></div>
				</div>

				<input type="text" maxlength="250" name="signin-email" placeholder="email or phone" tabindex="10" ng-model="account.email" autofocus>
				<div class="divider"></div>
				<input type="password" maxlength="250" name="signin-password" placeholder="password" tabindex="10" ng-model="account.password">
				<div class="divider"></div>
				<div class="signin-error">
					Your email or password were incorrect.
				</div>
				<a class="signin-password-help" ng-click="account.setHelp(true)">Password help?</a>
				<a href="javascript:;" class="signin-form-button">Log in</a>
				<input type="submit" style="visibility: hidden">
				<div class="divider"></div>
			</form>
			<div class="signin-facebook-container">
				<div class="signin-facebook">
					<a href="javascript:;" class="signin-facebook-button">
						<span class="signin-facebook-icon"></span>
						<span class="signin-facebook-text">Login with Facebook</span>
						<div class="divider"></div>
					</a>
				</div>
				<div class="signin-facebook-message">
					Just a sec...
				</div>
			</div>
		</div>
		<div ng-show="account.help">
			<form class="signin-help-form">
				<h1>Password help?</h1>
				<input type="text" maxlength="250" name="password-help-email" placeholder="email or phone" tabindex="10" ng-model="account.email" autofocus>
				<div class="divider"></div>
				<div class="password-help-error"></div>
				<a class="signin-password-help-back" ng-click="account.setHelp(false)">Never mind</a>
				<a href="javascript:;" class="signin-password-help-button">Reset</a>
				<div class="divider"></div>
			</form>
			<div class="signin-password-help-message"></div>
		</div>
	</div>

	<div class="signup-container zoom-anim-dialog small-container mfp-hide">
		<div class="signup-form-container">
			<div class="signup-form-options">
				<form class="signup-form">
					<div class="sign-form-links">
						<h1 class="signin signin-link link">Sign in</h1>
						<div class="divisor">|</div>
						<h1 class="active signup">Sign up</h1>
						<div class="divider"></div>
					</div>
					<input type="text" maxlength="250" name="signup-email" placeholder="email address" tabindex="10" />
					<div class="divider"></div>
					<input type="password" maxlength="250" name="signup-password" placeholder="password" tabindex="10" />
					<div class="divider"></div>
					<a href="javascript:;" class="signup-form-button">Sign up</a>
					<div class="divider"></div>
					<div class="signup-error"></div>
				</form>
				<div class="signup-facebook-container">
					<div class="signup-facebook">
						<a href="javascript:;" class="signup-facebook-button">
							<span class="signup-facebook-icon"></span>
							<span class="signup-facebook-text">Signup with Facebook</span>
							<div class="divider"></div>
						</a>
					</div>
					<div class="signup-facebook-message">
						Just a sec...
					</div>
				</div>
			</div>
			<div class="signup-success-container">
				<h1>Congratulations!</h1>
				<div class="signup-success">
					You can now sign in using <strong class="success-phone"></strong>!
				</div>
			</div>
		</div>
	</div>

</div>
</script><script type="text/ng-template" id="assets/view/suggestion.html">
<div class="suggest-food-container modal zoom-anim-dialog small-container mfp-hide" ng-controller="RecommendFoodCtrl">

	<div ng-show="!recommend.thanks">
		<form name="formSuggest">
			<h1>What do you suggest?</h1>
			<input type="text" maxlength="250" ng-model="recommend.form.name" ng-enter="recommend.send()" id="suggestion-name" tabindex="10" />
			<div class="divider"></div>
		</form>
		<button ng-show="!recommend.isSending" ng-click="recommend.send();">Suggest</button>
		<div class="divider"></div>
		<i ng-show="recommend.isSending" class="icon-spinner icon-spin"></i>
		<br/>
		<div class="divider dots"></div>
		<div class="message">
			Crunchbutton curates menus. <br/>
			We've curated just the top food here. <br/>
			You can suggest food, and, if it's really good, you'll see it on the menu soon.
		</div>
	</div>

	<div ng-show="recommend.thanks">
		<div class="success">
			<h1>Awesome, thanks!!</h1>
			If you really really wanna order it RIGHT NOW, call us at <b>646-783-1444</b>
		</div>
	</div>

</div>
</script><script type="text/ng-template" id="assets/view/support.html">
<div ng-controller="SupportCtrl" class="support-container" ng-show="!App.isMobile()">

	<div class="support-minimized" ng-show="support.minimized" ng-click="support.toggle();">
		<div class="support-icon"></div>
		<div class="support-title">Need help?</div>
		<div class="divider"></div>
	</div>

	<div class="support-maximized" ng-show="support.maximized">

		<div class="support-maximized-header" ng-click="support.toggle();">
			<div class="support-icon"></div>
			<div class="support-title">Question? Comment?</div>
			<div class="divider"></div>
		</div>

		<div class="support-maximized-content">
			Call us at (646) 783-1444 <br/>or send a message:
			<div class="divisor"></div>
			<div ng-show="support.thanks">
				Thank you!
			</div>
			<div ng-show="!support.thanks">
				<form name="formSupport">
					<label>Name</label>
					<input type="text" maxlength="50" ng-model="support.form.name" name="support-name"/>
					<div class="divider"></div>
					<label>Phone</label>
					<input type="text" maxlength="30" ng-model="support.form.phone" name="support-phone" />
					<div class="divider"></div>
					<label>Message</label>
					<textarea name="support-message" ng-model="support.form.message"></textarea>
					<div class="divider"></div>
					<button ng-show="!support.isSending" class="support-button" ng-click="support.send();">Send by sms</button>
					<div class="divider"></div>
					<i ng-show="support.isSending" class="icon-spinner icon-spin"></i>
				</form>				
			</div>

		</div>

	</div>

</div>
</script>
	</head>
	<body>

<div class="snap-drawers" ng-controller="SideMenuCtrl">
	<div class="snap-drawer snap-drawer-left">
		<div>
			<div class="pushabutton-getfood"></div>
			<ul>
				<li ng-instant="navigation.link('/food-delivery')">
					<table cellpadding="0" cellspacing="0" class="side-menu-wrap">
						<tr>
							<td class="side-menu-icon"><i class="icon-food"></i></td>
							<td class="side-menu-label">Restaurants</a></td>
						</tr>
					</table>
				</li>
				<li ng-instant="navigation.link('/location')">
					<table cellpadding="0" cellspacing="0" class="side-menu-wrap">
						<tr>
							<td class="side-menu-icon"><i class="icon-map-marker" style="margin-left: 3px;"></i></td>
							<td class="side-menu-label">Change Location</a></td>
						</tr>
					</table>
				</li>
				<li ng-show="navigation.account.user" ng-instant="navigation.link('/orders')">
					<table cellpadding="0" cellspacing="0" class="side-menu-wrap">
						<tr>
							<td class="side-menu-icon"><i class="icon-time"></i></td>
							<td class="side-menu-label">Order History</a></td>
						</tr>
					</table>
				</li>
				<li ng-show="navigation.account.user" ng-instant="App.test.logout()">
					<table cellpadding="0" cellspacing="0" class="side-menu-wrap">
						<tr>
							<td class="side-menu-icon"><i class="icon-mail-reply"></i></td>
							<td class="side-menu-label">Logout</a></td>
						</tr>
					</table>
				</li>
				<li ng-instant="navigation.link('/help')">
					<table cellpadding="0" cellspacing="0" class="side-menu-wrap">
						<tr>
							<td class="side-menu-icon"><i class="icon-question-sign"></i></td>
							<td class="side-menu-label">Help</a></td>
						</tr>
					</table>
				</li>
				<li ng-instant="navigation.link('/legal')">
					<table cellpadding="0" cellspacing="0" class="side-menu-wrap">
						<tr>
							<td class="side-menu-icon"><i class="icon-file" style="margin-left: 2px;"></i></td>
							<td class="side-menu-label">Legal</a></td>
						</tr>
					</table>
				</li>

								<li ng-instant="App.test.card()">
					<table cellpadding="0" cellspacing="0" class="side-menu-wrap">
						<tr>
							<td class="side-menu-icon"><i class="icon-circle-blank"></i></td>
							<td class="side-menu-label">TEST: card</a></td>
						</tr>
					</table>
				</li>
				<li ng-instant="App.test.clearloc()">
					<table cellpadding="0" cellspacing="0" class="side-menu-wrap">
						<tr>
							<td class="side-menu-icon"><i class="icon-circle-blank"></i></td>
							<td class="side-menu-label">TEST: clear loc</a></td>
						</tr>
					</table>
				</li>
				
			</ul>
			<div>
				<p>&copy; 2013 YouBeo. All rights reserved.</p>
			</div>
		</div>
	</div>
	<div class="snap-drawer snap-drawer-right"></div>
</div>

<div class="wrapper">
	
	<div id="snap-content" class="snap-content">
		<div class="nav" data-role="header" data-position="fixed" ng-controller="MainHeaderCtrl">
			
			<div class="content short-meal-list">
				
				<div class="pacman-loading pacman-left"></div>

				<div class="logo"><a href="javascript:;" ng-instant="navigation.home()"><div class="logo-img"></div></a></div>

				<div title="Back" ng-show="navigation.buttons.back" class="nav-back" ng-instant="back()"></div>
				<div title="Change location" ng-show="navigation.buttons.location" class="location-icon {{ navigation.page == 'home' && 'config-icon-desktop-hide' || '' }}" ng-instant="navigation.link('/location')"></div>
				<div title="Menu" ng-show="navigation.buttons.menu" class="menu-icon {{ navigation.page == 'home' && 'config-icon-desktop-hide' || '' }}" ng-instant="navigation.menu()"></div>

				<div class="signin-box-header">
					<div ng-show="navigation.account.user.id_user" ng-instant="navigation.link('/orders')" class="signin-user" title="My Account + Past Orders"></div>
					<div ng-show="!navigation.account.user.id_user" ng-instant="navigation.signin()" class="signin-icon"></div>
				</div>

			</div>

		</div>
	
		<div class="snap-content-inner bg">
			<div class="body">
				<div class="content short-meal-list">
					<div class="main-content pages">
						<div ng-view></div>
					</div>
				</div>
			</div>
			
			<div class="divider"></div>

			<div class="footer">
	
	<!-- 			
TODO: remove this comment

	<div class="fb-like-mobile fb-like-box" data-href="http://www.facebook.com/crunchbutton" data-width="300" data-show-faces="false" data-stream="false" data-header="false"></div>
	 -->
				<div class="footer-content hidden-phone" ng-controller="MainHeaderCtrl">
	
					<a href="javascript:;" ng-click="navigation.link('/help')">Help</a>
					<a href="javascript:;" ng-click="navigation.link('/legal')">Legal</a>
					<a ng-show="navigation.account.user" href="javascript:;" ng-click="navigation.link('/orders')">Order History</a>
											<a href="javascript:App.test.card();" class="test-card">TEST: card</a>
						<a href="javascript:App.test.logout();" class="test-logout">TEST: logout</a>
						<a href="javascript:App.test.clearloc();" class="test-clearloc">TEST: clear loc</a>
						<a href="javascript:;" ng-click="navigation.link('/')">TEST: go home</a>
						<a href="javascript:;" ng-click="navigation.link('/location')">TEST: go location</a>
										<br />
					<span class="copyright">&copy; 2013 YouBeo. All rights reserved.</span>
				</div>
			</div>

		</div>


	</div>

	<div class="divider"></div>
</div>

<div ng-include="'assets/view/account.html'"></div>
<div ng-include="'assets/view/account.reset.html'"></div>
<div ng-include="'assets/view/account.facebook.html'"></div>
<div ng-include="'assets/view/giftcard.html'"></div>
<div ng-include="'assets/view/suggestion.html'"></div>
<div ng-include="'assets/view/support.html'"></div>

<div id="fb-root"></div>

</body>
	<audio id="get-food-audio">
		<source src="assets/audio/crunch.mp3"></source>
		<source src="assets/audio/crunch.ogg"></source>
	</audio>
	<script type="text/javascript" src="https://www.google.com/jsapi"></script>
	<script type="text/javascript" src="assets/js/jquery-2.0.3.min.js"></script>
	<script type="text/javascript" src="assets/js/angular-1.0.7.min.js"></script>
	<script type="text/javascript" src="assets/js/phonegap.js"></script>
	<script type="text/javascript" src="assets/js/cdv-plugin-fb-connect.js"></script>
	<script type="text/javascript" src="assets/js/facebook-js-sdk.js"></script>
	<script type="text/javascript" src="assets/js/index.js"></script>
	<script type="text/javascript" src="assets/js/bundle.js"></script>
</html>
